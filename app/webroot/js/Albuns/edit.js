$(document).ready(function(){$(function(){"use strict";var e="blueimp.github.io"===window.location.hostname?"//jquery-file-upload.appspot.com/":"server/php/",a=$("<button/>").addClass("btn btn-primary").prop("disabled",!0).text("Processing...").on("click",function(){var e=$(this),a=e.data();e.off("click").text("Abort").on("click",function(){e.remove(),a.abort()}),a.submit().always(function(){e.remove()})});$("#fileupload").fileupload({url:e,dataType:"json",autoUpload:!1,acceptFileTypes:/(\.|\/)(gif|jpe?g|png)$/i,maxFileSize:999e3,disableImageResize:/Android(?!.*Chrome)|Opera/.test(window.navigator.userAgent),previewMaxWidth:100,previewMaxHeight:100,previewCrop:!0}).on("fileuploadadd",function(e,n){n.context=$("<div/>").appendTo("#files"),$.each(n.files,function(e,t){var r=$("<p/>").append($("<span/>").text(t.name));e||r.append("<br>").append(a.clone(!0).data(n)),r.appendTo(n.context)})}).on("fileuploadprocessalways",function(e,a){var n=a.index,t=a.files[n],r=$(a.context.children()[n]);t.preview&&r.prepend("<br>").prepend(t.preview),t.error&&r.append("<br>").append($('<span class="text-danger"/>').text(t.error)),n+1===a.files.length&&a.context.find("button").text("Upload").prop("disabled",!!a.files.error)}).on("fileuploadprogressall",function(e,a){var n=parseInt(a.loaded/a.total*100,10);$("#progress .progress-bar").css("width",n+"%")}).on("fileuploaddone",function(e,a){$.each(a.result.files,function(e,n){if(n.url){var t=$("<a>").attr("target","_blank").prop("href",n.url);$(a.context.children()[e]).wrap(t)}else if(n.error){var r=$('<span class="text-danger"/>').text(n.error);$(a.context.children()[e]).append("<br>").append(r)}})}).on("fileuploadfail",function(e,a){$.each(a.files,function(e){var n=$('<span class="text-danger"/>').text("File upload failed.");$(a.context.children()[e]).append("<br>").append(n)})}).prop("disabled",!$.support.fileInput).parent().addClass($.support.fileInput?void 0:"disabled")})});